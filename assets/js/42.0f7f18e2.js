(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{773:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_workflow.ba559e57.png"},774:function(t,a,e){t.exports=e.p+"assets/img/get_wechat_official_account_config.29003ed4.png"},775:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_credential.e478a9e3.png"},776:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_resp_text.d768c3c1.png"},777:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_resp_image.8dbc0c5f.png"},778:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_resp_text_image.b230cc0b.png"},779:function(t,a,e){t.exports=e.p+"assets/img/wechat_official_account_resp_workflow.9ea55f16.png"},920:function(t,a,e){"use strict";e.r(a);var _=e(27),c=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"微信公众号触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#微信公众号触发器"}},[t._v("#")]),t._v(" 微信公众号触发器")]),t._v(" "),a("h3",{attrs:{id:"创建微信公众号工作流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建微信公众号工作流"}},[t._v("#")]),t._v(" 创建微信公众号工作流")]),t._v(" "),a("p",[t._v("如下，创建一个简单的工作流，用于响应公众号发送的消息，这里我们只是简单的回复：你好。")]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:e(773),alt:"wechat_official_account_workflow",title:"创建微信公众号工作流"}}),t._v(" "),a("h3",{attrs:{id:"配置微信公众号开发信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置微信公众号开发信息"}},[t._v("#")]),t._v(" 配置微信公众号开发信息")]),t._v(" "),a("p",[t._v("扫码登陆"),a("a",{attrs:{href:"https://mp.weixin.qq.com/cgi-bin/home?t=home/index&lang=zh_CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信公众号后台"),a("OutboundLink")],1),t._v("，进入【设置与开发】=》【基本配置】页面下，我们可以看到几个需要用到的信息：")]),t._v(" "),a("ul",[a("li",[t._v("AppID：开发者ID。")]),t._v(" "),a("li",[t._v("AppSecret：开发者密钥。")])]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:e(774),alt:"get_wechat_official_account_config",title:"配置微信公众号开发信息"}}),t._v(" "),a("p",[t._v("拿到上面的AppID和AppSecret后，打开Botman创建【微信公众号】类型的凭据，输入上面的AppID和AppSecret。")]),t._v(" "),a("p",[t._v("同时，该页面会自动生成"),a("strong",[t._v("Token")]),t._v("、"),a("strong",[t._v("EncodingAESKey")]),t._v("和"),a("strong",[t._v("回调地址")]),t._v("，把这两个信息配置到公众号【基本配置】下的【服务器配置】选项里的"),a("strong",[t._v("令牌(Token)、消息加解密钥(EncodingAESKey)"),a("strong",[t._v("和")]),t._v("服务器地址(URL)")]),t._v("，消息加密方式使用"),a("strong",[t._v("安全模式")]),t._v("。最后点击保存即可。")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:e(775),alt:"wechat_official_account_credential",title:"微信公众号凭据配置"}}),t._v(" "),a("h3",{attrs:{id:"配置响应消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置响应消息"}},[t._v("#")]),t._v(" 配置响应消息")]),t._v(" "),a("p",[t._v("如上图，在【高级配置】下，启用自动回复。可以设置响应的消息类型，目前支持以下几种：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Text：文本。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:e(776),alt:"wechat_official_account_resp_text",title:"配置响应消息"}})]),t._v(" "),a("li",[a("p",[t._v("Image：图片。")]),t._v(" "),a("p",[t._v("点击上传小于200KB的图片。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:e(777),alt:"wechat_official_account_resp_image",title:"微信公众号图片消息"}})]),t._v(" "),a("li",[a("p",[t._v("Text+Image：图文。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:e(778),alt:"wechat_official_account_resp_text_image",title:"微信公众号图文消息"}})]),t._v(" "),a("li",[a("p",[t._v("Exec Workflow：下拉可以选择启用的微信公众号触发器工作流。")]),t._v(" "),a("p",[t._v("注意：由于微信官方要求，对于公众号发送的消息，必须要在5秒内响应回复，所以工作流这里在发送公众号消息之前不能做耗时的业务操作。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:e(779),alt:"wechat_official_account_resp_workflow",title:"微信公众号触发工作流"}})])])])}),[],!1,null,null,null);a.default=c.exports}}]);
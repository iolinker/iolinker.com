(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{304:function(e,t,a){e.exports=a.p+"assets/img/telegram-message-getupdate.9a369558.png"},305:function(e,t,a){e.exports=a.p+"assets/img/telegram-message-webhook.ca25d8cb.png"},358:function(e,t,a){e.exports=a.p+"assets/img/python-telegram-bot-site-1.3a4e400a.png"},359:function(e,t,a){e.exports=a.p+"assets/img/python-telegram-bot-site-2.0d7ab82d.png"},360:function(e,t,a){e.exports=a.p+"assets/img/telegram-bot-api.e07464f1.png"},361:function(e,t,a){e.exports=a.p+"assets/img/create_telegram_bot_from_botfather.bdfde87a.png"},362:function(e,t,a){e.exports=a.p+"assets/img/create-telegram-credential.b2525322.png"},363:function(e,t,a){e.exports=a.p+"assets/img/tg-bot-start-cmd.3b12751b.png"},364:function(e,t,a){e.exports=a.p+"assets/img/builtin-cmd-list.a6e09176.png"},365:function(e,t,a){e.exports=a.p+"assets/img/create-workflow-menu.3423f77b.png"},366:function(e,t,a){e.exports=a.p+"assets/img/set-tg-bot-trigger.dc942bf3.png"},367:function(e,t,a){e.exports=a.p+"assets/img/create_tg_nmap_cmd.83bc3586.png"},368:function(e,t,a){e.exports=a.p+"assets/img/tg_nmap_cmd_trigger.2fe0f866.png"},369:function(e,t,a){e.exports=a.p+"assets/img/tg-bot-execution-list.93dbc5ff.png"},370:function(e,t,a){e.exports=a.p+"assets/img/telegram-bot-trigger-detail.81a3f564.png"},371:function(e,t,a){e.exports=a.p+"assets/img/set-telegram-id.00b29d40.png"},372:function(e,t,a){e.exports=a.p+"assets/img/set-tg-approval-bot-setting.3e41f550.png"},373:function(e,t,a){e.exports=a.p+"assets/img/telegram-bot-list.4a96eefc.png"},374:function(e,t,a){e.exports=a.p+"assets/img/tg-bot-start-cmd-v2.1c867fbc.png"},375:function(e,t,a){e.exports=a.p+"assets/img/tg-bot-execution-detail-v2.bf4ef2c7.png"},814:function(e,t,a){"use strict";a.r(t);var o=a(27),r=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_1-minute-zero-code-quick-implementation-of-a-telegram-bot-command-interaction-robot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-minute-zero-code-quick-implementation-of-a-telegram-bot-command-interaction-robot"}},[e._v("#")]),e._v(" 1-Minute Zero-Code Quick Implementation of a Telegram Bot Command Interaction Robot")]),e._v(" "),t("p",[e._v("The following article will show you how to implement a complex Telegram interactive bot using a low-code orchestration approach. Even without programming knowledge, you can quickly create your own bot—and it will be a command-interactive one!")]),e._v(" "),t("iframe",{attrs:{width:"800",height:"600",src:"https://www.youtube.com/embed/zoEYr-Z1f1s",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),e._v(" "),t("h2",{attrs:{id:"一、demo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、demo"}},[e._v("#")]),e._v(" 一、Demo")]),e._v(" "),t("p",[e._v("First and foremost, let’s take a look at the final result of the Telegram bot we’re going to build:")]),e._v(" "),t("h2",{attrs:{id:"二、two-methods-for-receiving-telegram-callback-messages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、two-methods-for-receiving-telegram-callback-messages"}},[e._v("#")]),e._v(" 二、Two Methods for Receiving Telegram Callback Messages")]),e._v(" "),t("p",[e._v("For individual developers, using the getUpdates method has lower entry barriers and requires fewer prerequisites. However, if high real-time performance and handling large volumes of messages are necessary, the webhook mode may be considered.")]),e._v(" "),t("h3",{attrs:{id:"_1-getupdate-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-getupdate-mode"}},[e._v("#")]),e._v(" （1）getUpdate mode")]),e._v(" "),t("p",[e._v("Polling Telegram's getUpdates API to retrieve messages and event data sent to the bot eliminates the need for a domain name or public network exposure (as required by WebHook). This method even allows receiving Telegram bot callback messages within an internal network. Below is the workflow principle of this mode.")]),e._v(" "),t("blockquote",[t("p",[e._v("Advantages")])]),e._v(" "),t("ul",[t("li",[e._v("No need to expose public network servers; Telegram callback messages can be polled within an internal network, ensuring high security")]),e._v(" "),t("li",[e._v("No domain name or HTTPS certificate required")]),e._v(" "),t("li",[e._v("No need to register a webhook interface with Telegram BotFather; data can be directly fetched via polling")])]),e._v(" "),t("blockquote",[t("p",[e._v("DIsAdvantages")])]),e._v(" "),t("ul",[t("li",[e._v("Requires periodic polling to fetch messages, resulting in slightly lower real-time performance")]),e._v(" "),t("li",[e._v("Requires local storage to track previously processed messages and avoid duplicate responses")]),e._v(" "),t("li",[e._v("Only suitable for scenarios with low message volume")])]),e._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:a(304),alt:"getUpdate Message Retrieval Principle Diagram",title:"getUpdate Message Retrieval Principle Diagram"}}),e._v(" "),t("h3",{attrs:{id:"_2-webhook-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-webhook-mode"}},[e._v("#")]),e._v(" （2）webhook mode")]),e._v(" "),t("p",[e._v("Provide a callback URL (requiring an HTTPS domain) to Telegram. Telegram will then push messages and event data received by the bot to this callback interface. This method offers higher real-time performance but requires users to expose their system to the public network and provide a domain with an HTTPS certificate. Below is the workflow principle of this mode.")]),e._v(" "),t("blockquote",[t("p",[e._v("Advantages")])]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Strong real-time performance")]),e._v(", suitable for high-volume messaging scenarios")]),e._v(" "),t("li",[t("strong",[e._v("No need to track previously synced messages")]),e._v(", simplifying implementation")])]),e._v(" "),t("blockquote",[t("p",[e._v("DIsAdvantages")])]),e._v(" "),t("ul",[t("li",[e._v("Requires a server exposed to the public network, which may pose security risks")]),e._v(" "),t("li",[e._v("Requires a domain name with an HTTPS certificate")]),e._v(" "),t("li",[e._v("Requires manual registration of the callback interface with Telegram's BotFather")])]),e._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:a(305),alt:"Webhook Message Retrieval Principle Diagram",title:"通Webhook Message Retrieval Principle Diagram"}}),e._v(" "),t("h2",{attrs:{id:"三、python-library-implementation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、python-library-implementation"}},[e._v("#")]),e._v(" 三、Python Library Implementation")]),e._v(" "),t("p",[e._v("I believe many developers who have built Telegram bots using Python have encountered or used the following library. This open-source Python library wraps numerous official Telegram APIs, significantly reducing the difficulty of interacting with Telegram’s interfaces. However, it still requires writing substantial amounts of code, especially when implementing a Telegram bot with complex interactive capabilities. This often involves various programming techniques and challenges related to local data storage and maintenance.")]),e._v(" "),t("p",[e._v("For developers with programming experience, this can already be quite challenging—let alone for those without any coding background!")]),e._v(" "),t("p",[e._v("Open-source Telegram Python library: https://github.com/python-telegram-bot/python-telegram-bot")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(358),alt:"https://github.com/python-telegram-bot/python-telegram-bot introduction",title:"https://github.com/python-telegram-bot/python-telegram-bot introduction"}}),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(359),alt:"https://github.com/python-telegram-bot/python-telegram-bot仓库介绍",title:"https://github.com/python-telegram-bot/python-telegram-bot仓库介绍"}}),e._v(" "),t("p",[e._v("Telegram Official Bot API (Extensive!!):")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(360),alt:"telegram Bot官网API截图",title:"telegram Bot官网API截图"}}),e._v(" "),t("p",[e._v("Of course, such a cumbersome implementation method is not within our consideration. Let‘s explore another approach below.")]),e._v(" "),t("h2",{attrs:{id:"四、iolinker-workflow-orchestration-tool-implementation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、iolinker-workflow-orchestration-tool-implementation"}},[e._v("#")]),e._v(" 四、IOLinker Workflow Orchestration Tool Implementation")]),e._v(" "),t("h3",{attrs:{id:"_1-download-iolinker-and-launch-it"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-download-iolinker-and-launch-it"}},[e._v("#")]),e._v(" (1) Download IOLinker and Launch It")]),e._v(" "),t("p",[e._v("Refer to the official documentation: "),t("a",{attrs:{href:"https://iolinker.com/how-to-run-iolinker.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to Run IOLinker"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_2-create-telegram-credential"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-create-telegram-credential"}},[e._v("#")]),e._v(" (2) Create Telegram Credential")]),e._v(" "),t("p",[e._v("Most people likely already have this set up, so we won’t go into excessive detail. The key step is to apply through the official BotFather.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(361),alt:"如何通过BotFather申请Telegram机器人",title:"如何通过BotFather申请Telegram机器人"}}),e._v(" "),t("p",[e._v("After creating the credentials, navigate to the "),t("strong",[e._v("Credentials Management")]),e._v(" page in IOLinker and enter the Telegram credentials you just created:")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(362),alt:"Creating Telegram credentials on IOLinker",title:"Creating Telegram credentials on IOLinker"}}),e._v(" "),t("ul",[t("li",[t("p",[e._v("Set this credential as the default. When chatting with the bot, the system will automatically identify which Telegram credential to use.")])]),e._v(" "),t("li",[t("p",[e._v("Enable built-in preset commands. Once enabled, the default custom commands "),t("code",[e._v("/start")]),e._v(", "),t("code",[e._v("/man")]),e._v(", and "),t("code",[e._v("/list")]),e._v("will be available, effortlessly implementing command functionality without writing a single line of code. To modify command descriptions, go to the credential creation page to make changes.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(363),alt:"tg-bot-start-cmd",title:"telegram bot /start cmd"}}),e._v(" "),t("p",[e._v("Custom Command List:")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(364),alt:"builtin-cmd-list",title:"Built-in Custom Commands"}})])]),e._v(" "),t("h3",{attrs:{id:"_3-create-and-configure-a-telegram-bot-trigger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-create-and-configure-a-telegram-bot-trigger"}},[e._v("#")]),e._v(" (3) Create and configure a Telegram bot trigger")]),e._v(" "),t("p",[e._v("Click the [Create Workflow] button under the [Edit] menu.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(365),alt:"create workflow menu",title:"create workflow menu"}}),e._v(" "),t("p",[e._v("Under the [Triggers] category on the left, select [Telegram Trigger], double-click it, and configure according to the image below.")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Cred: Use the Telegram credentials created previously")])]),e._v(" "),t("li",[t("p",[e._v('Message Type: Select "Text" here')])]),e._v(" "),t("li",[t("p",[e._v("Allowed Users: Leave blank by default to respond to inputs from all users")])]),e._v(" "),t("li",[t("p",[e._v('Trigger Scope: Choose "Command Input Trigger". Note: The default is "Any Input Trigger", meaning any string input will trigger a response')])]),e._v(" "),t("li",[t("p",[e._v("Command: Use the default /start command included with every bot")])]),e._v(" "),t("li",[t("p",[e._v("Command Description: Settings here will be displayed in the bot's preset command list")])]),e._v(" "),t("li",[t("p",[e._v("Command Parameters: Refer to the documentation: "),t("a",{attrs:{href:"https://iolinker.com/trigger_telegram.html#commands-and-parameters",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commands and Parameters"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("Debug Data: This primarily simulates the output results after the Telegram bot trigger is executed, allowing simulated data output without actually running the bot")])])]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(366),alt:"Configure Telegram Bot Trigger Settings Page",title:"Configure Telegram Bot Trigger Settings Page"}}),e._v(" "),t("p",[e._v("At this point, if we save and enable the configuration directly, it will actually be operational. However, note that this setup only captures user input without providing actual feedback to the user, as shown below.")]),e._v(" "),t("p",[e._v("The IOLinker tool will automatically register the created Telegram Bot commands to the preset command list.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(367),alt:"tg nmap cmd list",title:"tg nmap built-in command"}}),e._v(" "),t("p",[e._v("When we manually enter the command "),t("code",[e._v("/nmap -h 1.1.1.1")]),e._v("with parameters, it triggers the workflow to run (it can also be triggered without parameters, in which case default values will be used).")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(368),alt:"tg nmap command trigger workflow",title:"tg nmap command trigger workflow"}}),e._v(" "),t("p",[e._v("After entering the "),t("code",[e._v("/nmap")]),e._v("command in the Telegram bot, we can see the workflow's execution records in the workflow list.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(369),alt:"telegram bot execution list",title:"telegram bot execution list"}}),e._v(" "),t("p",[e._v("Click on the execution record to view detailed response data. The previously entered parameters will be automatically parsed and extracted:")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(370),alt:"telegram bot execution detail",title:"telegram bot execution detail"}}),e._v(" "),t("p",[e._v("At this point, we have successfully implemented the input and response mechanism for bot commands. Subsequent steps can now involve adding other workflow logic, such as sending messages or interactive approval buttons.")]),e._v(" "),t("h3",{attrs:{id:"_4-add-telegram-bot-interactive-approval-functionality"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-add-telegram-bot-interactive-approval-functionality"}},[e._v("#")]),e._v(" (4) Add Telegram Bot Interactive Approval Functionality")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Click on the [Logic Components] on the left, select the [Approval] app, drag it into the editor, and double-click to configure.")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Approval Channel: By default, approvals can be processed on the web. Here, we additionally select Telegram.")])]),e._v(" "),t("li",[t("p",[e._v("Telegram Credentials: Select the Telegram credentials created earlier.")])]),e._v(" "),t("li",[t("p",[e._v("Name: The title of the message.")])]),e._v(" "),t("li",[t("p",[e._v("Content: The specific content of the approval request.")])]),e._v(" "),t("li",[t("p",[e._v("Members: By default, only configured sets can be selected (viewable in the Settings section). Note: You must first set your Telegram account ID under Settings → Account. For instructions on how to find your Telegram ID, refer to the documentation: "),t("a",{attrs:{href:"https://iolinker.com/send_telegram_message.html#chatid",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to get Telegram ChatId"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("Type: Or-sign (i.e., only one approval is required).")])]),e._v(" "),t("li",[t("p",[e._v("Timeout: Set the duration (in seconds) after which the approval request times out, proceeding to the branch indicated by the gray dotted connection.")])]),e._v(" "),t("li",[t("p",[e._v("Yes Label: Set the label text for approval.")])]),e._v(" "),t("li",[t("p",[e._v("No Label: Set the label text for rejection.")])])])])]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(371),alt:"How to Set Up a Telegram Account ID",title:"How to Set Up a Telegram Account ID"}}),e._v(" "),t("p",[e._v("As shown in the figure below, after configuring the Approval app, you can set up follow-up response branches for approval (green node) and rejection (red node), such as executing other Python code or sending messages via Telegram.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(372),alt:"Configure approval, rejection, and timeout branches for Telegram approval",title:"Configure approval, rejection, and timeout branches for Telegram approval"}}),e._v(" "),t("h3",{attrs:{id:"_5-save-and-enable"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-save-and-enable"}},[e._v("#")]),e._v(" (5) Save and Enable")]),e._v(" "),t("p",[e._v("After saving, you can view the created bot information under "),t("strong",[e._v("[Chatbot List]")]),e._v(" in the "),t("strong",[e._v("[Workflow]")]),e._v(" section, or check it in the "),t("strong",[e._v("[Workflow List]")]),e._v(".")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(373),alt:"telegram bot list",title:"telegram bot list"}}),e._v(" "),t("h3",{attrs:{id:"_6-test-robot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-test-robot"}},[e._v("#")]),e._v(" (6) Test Robot")]),e._v(" "),t("p",[e._v("Open the created bot, enter the "),t("code",[e._v("/start")]),e._v("command, and you will see the bot send us interactive approval buttons.")]),e._v(" "),t("p",[e._v("Click the "),t("strong",[e._v("[Yes]")]),e._v(" or "),t("strong",[e._v("[No]")]),e._v(" button to execute the subsequent approval or rejection branch processes.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(374),alt:"trigger telegram bot /start cmd",title:"trigger telegram bot /start cmd"}}),e._v(" "),t("p",[e._v("Returning to the "),t("strong",[e._v("[Execution]")]),e._v(", we can see the workflow's response history. Here, it is visible that the workflow selected and executed the corresponding branch based on the bot's interaction.")]),e._v(" "),t("p",[e._v("If familiar with the process, the entire setup can be completed in under a minute—far more efficient than traditional coding methods!")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:a(375),alt:"telegram bot execution detail",title:"telegram bot execution detail"}})])}),[],!1,null,null,null);t.default=r.exports}}]);